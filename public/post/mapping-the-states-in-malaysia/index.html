<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  
  
  <meta name="generator" content="Wowchemy 5.0.0-beta.0 for Hugo">
  

  

  
  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Tengku Muhammad Hanis">

  
  
  
    
  
  <meta name="description" content="I have written two blog posts about making map in R:
Making maps with R (my first attempt ever!)My first interactive map with {leaflet}This post is sort of a continuation to the first blog post.">

  
  <link rel="alternate" hreflang="en-us" href="https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/">

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css" integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin="anonymous">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js" integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    

  

  
  
  
    
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
    
  

  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.css">

  




  

  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/">

  
  
  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Tengku Hanis">
  <meta property="og:url" content="https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/">
  <meta property="og:title" content="Mapping the states in Malaysia | Tengku Hanis">
  <meta property="og:description" content="I have written two blog posts about making map in R:
Making maps with R (my first attempt ever!)My first interactive map with {leaflet}This post is sort of a continuation to the first blog post."><meta property="og:image" content="https://tengkuhanis.netlify.app/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_512x512_fill_lanczos_center_3.png">
  <meta property="twitter:image" content="https://tengkuhanis.netlify.app/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_512x512_fill_lanczos_center_3.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2023-02-22T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2023-02-23T03:29:21&#43;08:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/"
  },
  "headline": "Mapping the states in Malaysia",
  
  "datePublished": "2023-02-22T00:00:00Z",
  "dateModified": "2023-02-23T03:29:21+08:00",
  
  "author": {
    "@type": "Person",
    "name": "Tengku Muhammad Hanis"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Tengku Hanis",
    "logo": {
      "@type": "ImageObject",
      "url": "https://tengkuhanis.netlify.app/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "I have written two blog posts about making map in R:\nMaking maps with R (my first attempt ever!)\rMy first interactive map with {leaflet}\r\rThis post is sort of a continuation to the first blog post."
}
</script>

  

  


  


  





  <title>Mapping the states in Malaysia | Tengku Hanis</title>

</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper  ">

  
  
  
    <script>window.wcDarkLightEnabled = true;</script>
  
  
    <script>const isSiteThemeDark = false;</script>
  
  
  <script src="/js/load-theme.js"></script>

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  <div class="page-header">
    












<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Tengku Hanis</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Tengku Hanis</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#publications"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#projects"><span>Projects</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#talks"><span>Talks</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>Blog</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/files/cv.pdf"><span>CV</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true">
          <i class="fas fa-moon" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  </div>

  <div class="page-body">
    <article class="article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Mapping the states in Malaysia</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    Feb 23, 2023
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    6 min read
  </span>
  

  
  
  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/category/r/">R</a>, <a href="/category/epidemiology/">Epidemiology</a>, <a href="/category/map/">Map</a></span>
  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style">
      


<p>I have written two blog posts about making map in R:</p>
<ol style="list-style-type: decimal">
<li><a href="https://tengkuhanis.netlify.app/post/making-maps-with-r-my-first-attempt-ever/">Making maps with R (my first attempt ever!)</a></li>
<li><a href="https://tengkuhanis.netlify.app/post/my-first-interactive-map-with-leaflet/">My first interactive map with {leaflet}</a></li>
</ol>
<p>This post is sort of a continuation to the <a href="https://tengkuhanis.netlify.app/post/making-maps-with-r-my-first-attempt-ever/">first blog post</a>. I have shown how to plot a coordinate to a map in that post specifically for Malaysia.</p>
<p>However, using the two approaches in the previous blog post, we cannot plot the coordinate to a certain states in Malaysia. At least I am not unable to find how to do that after googling around. But, we can plot the borneo or peninsular of Malaysia using the two approaches.</p>
<div id="plot-the-peninsular-of-malaysia-not-the-best-way" class="section level2">
<h2>Plot the peninsular of Malaysia (not the best way)</h2>
<p>Load the necessary packages.</p>
<pre class="r"><code>library(rworldmap) 
library(tidyverse)</code></pre>
<p>First, we get the data. The data is about desa clinic (klinik desa) in Malaysia.</p>
<pre class="r"><code>clinicDesa &lt;- read.csv(&quot;https://raw.githubusercontent.com/tengku-hanis/clinic-data/main/clinicdesa.csv&quot;)
head(clinicDesa)</code></pre>
<pre><code>##   id facilities_id                     name              address postcode
## 1  1    KD01010019  KLINIK DESA ASSAM BUBOK     Jalan Batu Pahat    86400
## 2  2    KD01010020   KLINIK DESA BATU PUTIH    Jalan Behor Temak    83000
## 3  3    KD01010021      KLINIK DESA BEROLEH    Jalan Parit Besar    83300
## 4  4    KD01010022        KLINIK DESA BINDU Jalan Tongkang Pecah    83010
## 5  5    KD01010023 KLINIK DESA KAMPUNG BARU   Jalan Parit Kemang    83710
## 6  6    KD01010024 KLINIK DESA KANGKAR BARU      Jalan Meng Seng    85400
##             city   district  state tel fax website email image latitude
## 1     Ayer Hitam Batu Pahat Johor       NA      NA    NA    NA 1.933330
## 2          Bagan Batu Pahat Johor       NA      NA    NA    NA 1.889100
## 3     Sri Gading Batu Pahat Johor       NA      NA    NA    NA 1.877890
## 4 Tongkang Pecah Batu Pahat Johor       NA      NA    NA    NA 1.901515
## 5    Parit Yaani Batu Pahat Johor       NA      NA    NA    NA 1.905120
## 6      Yong Peng Batu Pahat Johor       NA      NA    NA    NA 2.065310
##   longitude likes rating status
## 1  103.1167     0      0    NEW
## 2  102.8778     0      0    NEW
## 3  102.9858     0      0    NEW
## 4  102.9665     0      0    NEW
## 5  103.0372     0      0    NEW
## 6  103.1248     0      0    NEW</code></pre>
<p>First we plot the data.</p>
<pre class="r"><code>ggplot(clinicDesa, aes(longitude, latitude)) +
  geom_point() +
  theme_minimal()</code></pre>
<p><img src="https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/index.en_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Remove the two points.</p>
<pre class="r"><code>clinicDesa2 &lt;- clinicDesa %&gt;% filter(longitude &gt; 25)</code></pre>
<p>Again, plot the updated data.</p>
<pre class="r"><code>ggplot(clinicDesa2, aes(longitude, latitude)) +
  geom_point() +
  theme_minimal()</code></pre>
<p><img src="https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/index.en_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>From the plot, we already know the left side consists of the coordinates in the peninsular of Malaysia. So, we can limit our plot by limit the longitude &lt; 105 and longitude &gt; 97.</p>
<pre class="r"><code># Get base map
global &lt;- map_data(&quot;world&quot;) 

# Plot
ggplot() + 
  geom_polygon(data = global %&gt;% filter(region == &quot;Malaysia&quot;), aes(x=long, y = lat, group = group), 
               fill = &quot;gray85&quot;) + 
  coord_fixed(1.3) +
  geom_point(data = clinicDesa2, aes(x = longitude, y = latitude)) +
  theme_minimal() + 
  xlab(&quot;Longitude&quot;) +
  ylab(&quot;Latitude&quot;) +
  labs(title = &quot;Desa clinic in the peninsular of Malaysia&quot;, 
       subtitle = &quot;(Data last updated: Klinik Desa - 9 Mac 2021)&quot;,
       caption = expression(paste(italic(&quot;Sumber data: https://www.data.gov.my/data/ms_MY/group/pemetaan&quot;)))) +
  xlim(97, 105) #limit overall map to peninsular of Malaysia</code></pre>
<p><img src="https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/index.en_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>I am not going to re-explain the above and below codes as I have explain it in <a href="https://tengkuhanis.netlify.app/post/making-maps-with-r-my-first-attempt-ever/">the previous blog post</a>.</p>
<p>This approach also works with <code>rworldmap</code>.</p>
<pre class="r"><code># Get base map
world &lt;- getMap(resolution = &quot;low&quot;)
msia &lt;- world[world@data$ADMIN == &quot;Malaysia&quot;, ]

# Plot
ggplot() +
  geom_polygon(data = msia, aes(x = long, y = lat, group = group), fill = NA, colour = &quot;black&quot;) +
  geom_point(data = clinicDesa2, aes(x = longitude, y = latitude)) +
  coord_quickmap() + 
  theme_minimal() + 
  xlab(&quot;Longitude&quot;) +
  ylab(&quot;Latitude&quot;) +
  labs(title = &quot;Desa clinic in the peninsular of Malaysia&quot;, 
       subtitle = &quot;(Data last updated: Klinik Desa - 9 Mac 2021)&quot;,
       caption = expression(paste(italic(&quot;Sumber data: https://www.data.gov.my/data/ms_MY/group/pemetaan&quot;)))) +
  xlim(97, 105) #limit overall map to peninsular of Malaysia</code></pre>
<p><img src="https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/index.en_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>As we can see using the two approaches, we can plot the borne and peninsular sides of Malaysia. But, at least to my knowledge we cannot apply this approach if we want to plot a coordinate to certain states in Malaysia.</p>
</div>
<div id="plot-the-states-in-malaysia" class="section level2">
<h2>Plot the states in Malaysia</h2>
<p>Load the necessary package.</p>
<pre class="r"><code>library(geodata)
library(tidyterra)</code></pre>
<p>As we can see from the package, we going to use a <code>geodata</code> package. <code>tidyterra</code> is used to supplements the ggplot. First, let’s limit the data into desa clinics in Terengganu only.</p>
<pre class="r"><code>clinic_trg &lt;- 
  clinicDesa %&gt;% 
  filter(state == &quot;Terengganu&quot;) %&gt;% 
  dplyr::select(latitude, longitude) 
head(clinic_trg)</code></pre>
<pre><code>##   latitude longitude
## 1  5.48533  102.4914
## 2  5.81578  102.5778
## 3  5.70886  102.4892
## 4  5.75722  102.5303
## 5  5.67444  102.6289
## 6  5.69875  102.5430</code></pre>
<p>Now we get the map from the <code>geodata</code> package with the boundaries at the district level.</p>
<pre class="r"><code>Malaysia &lt;- gadm(country = &quot;MYS&quot;, level = 2, path=tempdir())</code></pre>
<p>We can use the below information to limit the map to Terengganu state only.</p>
<pre class="r"><code>Malaysia$NAME_1</code></pre>
<pre><code>##   [1] &quot;Johor&quot;           &quot;Johor&quot;           &quot;Johor&quot;           &quot;Johor&quot;          
##   [5] &quot;Johor&quot;           &quot;Johor&quot;           &quot;Johor&quot;           &quot;Johor&quot;          
##   [9] &quot;Johor&quot;           &quot;Johor&quot;           &quot;Kedah&quot;           &quot;Kedah&quot;          
##  [13] &quot;Kedah&quot;           &quot;Kedah&quot;           &quot;Kedah&quot;           &quot;Kedah&quot;          
##  [17] &quot;Kedah&quot;           &quot;Kedah&quot;           &quot;Kedah&quot;           &quot;Kedah&quot;          
##  [21] &quot;Kedah&quot;           &quot;Kedah&quot;           &quot;Kelantan&quot;        &quot;Kelantan&quot;       
##  [25] &quot;Kelantan&quot;        &quot;Kelantan&quot;        &quot;Kelantan&quot;        &quot;Kelantan&quot;       
##  [29] &quot;Kelantan&quot;        &quot;Kelantan&quot;        &quot;Kelantan&quot;        &quot;Kelantan&quot;       
##  [33] &quot;Kuala Lumpur&quot;    &quot;Labuan&quot;          &quot;Melaka&quot;          &quot;Melaka&quot;         
##  [37] &quot;Melaka&quot;          &quot;Negeri Sembilan&quot; &quot;Negeri Sembilan&quot; &quot;Negeri Sembilan&quot;
##  [41] &quot;Negeri Sembilan&quot; &quot;Negeri Sembilan&quot; &quot;Negeri Sembilan&quot; &quot;Negeri Sembilan&quot;
##  [45] &quot;Pahang&quot;          &quot;Pahang&quot;          &quot;Pahang&quot;          &quot;Pahang&quot;         
##  [49] &quot;Pahang&quot;          &quot;Pahang&quot;          &quot;Pahang&quot;          &quot;Pahang&quot;         
##  [53] &quot;Pahang&quot;          &quot;Pahang&quot;          &quot;Pahang&quot;          &quot;Perak&quot;          
##  [57] &quot;Perak&quot;           &quot;Perak&quot;           &quot;Perak&quot;           &quot;Perak&quot;          
##  [61] &quot;Perak&quot;           &quot;Perak&quot;           &quot;Perak&quot;           &quot;Perak&quot;          
##  [65] &quot;Perak&quot;           &quot;Perlis&quot;          &quot;Pulau Pinang&quot;    &quot;Pulau Pinang&quot;   
##  [69] &quot;Pulau Pinang&quot;    &quot;Pulau Pinang&quot;    &quot;Pulau Pinang&quot;    &quot;Putrajaya&quot;      
##  [73] &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;          
##  [77] &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;          
##  [81] &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;          
##  [85] &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;          
##  [89] &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;          
##  [93] &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;           &quot;Sabah&quot;          
##  [97] &quot;Sabah&quot;           &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;        
## [101] &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;        
## [105] &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;        
## [109] &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;        
## [113] &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;        
## [117] &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;        
## [121] &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;        
## [125] &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;         &quot;Sarawak&quot;        
## [129] &quot;Selangor&quot;        &quot;Selangor&quot;        &quot;Selangor&quot;        &quot;Selangor&quot;       
## [133] &quot;Selangor&quot;        &quot;Selangor&quot;        &quot;Selangor&quot;        &quot;Selangor&quot;       
## [137] &quot;Selangor&quot;        &quot;Trengganu&quot;       &quot;Trengganu&quot;       &quot;Trengganu&quot;      
## [141] &quot;Trengganu&quot;       &quot;Trengganu&quot;       &quot;Trengganu&quot;       &quot;Trengganu&quot;</code></pre>
<p>So, this is the plot for Terengganu.</p>
<pre class="r"><code>Trg &lt;- Malaysia[138:144,]
plot(Trg)</code></pre>
<p><img src="https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/index.en_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>We going to the map this in ggplot, and stacked the map layer with the coordinate layer.</p>
<pre class="r"><code>ggplot() +
  geom_spatvector(data = Trg, color = &quot;grey&quot;, fill = NA) +
  geom_point(data = clinic_trg, aes(x = longitude, y = latitude, color = &quot;red&quot;)) +
  theme_minimal() +
  theme(legend.position = &quot;none&quot;) +
  xlab(&quot;Longitude&quot;) +
  ylab(&quot;Latitude&quot;) +
  labs(title = &quot;Desa clinic in Terengganu, Malaysia&quot;, 
       subtitle = &quot;(Data last updated: Klinik Desa - 9 Mac 2021)&quot;,
       caption = expression(paste(italic(&quot;Sumber data: https://www.data.gov.my/data/ms_MY/group/pemetaan&quot;)))) </code></pre>
<p><img src="https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/index.en_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p><code>geom_spatvector</code> is from <code>tidyterra</code> package. Alternatively, we can plot using <code>geom_sf</code>but we need to convert the <code>SpatVector</code> data into <code>sf</code> object using <code>sf::st_as_sf</code>.</p>
<pre class="r"><code>ggplot(data = sf::st_as_sf(Trg)) +
  geom_sf(color = &quot;grey&quot;, fill = NA) +
  geom_point(data = clinic_trg, aes(x = longitude, y = latitude, color = &quot;red&quot;)) +
  theme_minimal() +
  theme(legend.position = &quot;none&quot;) +
  xlab(&quot;Longitude&quot;) +
  ylab(&quot;Latitude&quot;) +
  labs(title = &quot;Desa clinic in Terengganu, Malaysia&quot;, 
       subtitle = &quot;(Data last updated: Klinik Desa - 9 Mac 2021)&quot;,
       caption = expression(paste(italic(&quot;Sumber data: https://www.data.gov.my/data/ms_MY/group/pemetaan&quot;)))) </code></pre>
<p><img src="https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/index.en_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>Both approaches produce the same plot.</p>
<p>We can further add district labels to the plots. For example, using the <code>geom_sf</code>, we can stack it with <code>geom_sf_label</code> layer. We can alternatively use <code>theme_void</code> to remove the background and the map axis.</p>
<pre class="r"><code>ggplot(data = sf::st_as_sf(Trg)) +
  geom_sf(color = &quot;grey&quot;, fill = NA) +
  geom_sf_label(aes(label = NAME_2)) +
  geom_point(data = clinic_trg, aes(x = longitude, y = latitude, color = &quot;red&quot;)) +
  theme_void() +
  theme(legend.position = &quot;none&quot;) +
  xlab(&quot;Longitude&quot;) +
  ylab(&quot;Latitude&quot;) +
  labs(title = &quot;Desa clinic in Terengganu, Malaysia&quot;, 
       subtitle = &quot;(Data last updated: Klinik Desa - 9 Mac 2021)&quot;,
       caption = expression(paste(italic(&quot;Sumber data: https://www.data.gov.my/data/ms_MY/group/pemetaan&quot;)))) </code></pre>
<p><img src="https://tengkuhanis.netlify.app/post/mapping-the-states-in-malaysia/index.en_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
</div>

    </div>

    






<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/map/">map</a>
  
  <a class="badge badge-light" href="/tag/spatial/">spatial</a>
  
</div>













  
  



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://tengkuhanis.netlify.app/"><img class="avatar mr-3 avatar-circle" src="/author/tengku-muhammad-hanis/avatar_hudc30cbd0ec41b759b7dfffd1da5756c9_104831_270x270_fill_q90_lanczos_center.jpg" alt="Tengku Muhammad Hanis"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://tengkuhanis.netlify.app/">Tengku Muhammad Hanis</a></h5>
      <h6 class="card-subtitle">Lead academic trainer</h6>
      <p class="card-text">My research interests include medical statistics and machine learning application.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.researchgate.net/profile/Tengku-Muhammad-Hanis" target="_blank" rel="noopener">
        <i class="fab fa-researchgate"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=VV2bHQcAAAAJ&amp;hl=en" target="_blank" rel="noopener">
        <i class="fas fa-graduation-cap"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/tengku-hanis" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/tengku-muhammad-hanis-9a7222144/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/tmhanis" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>
















  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/post/making-maps-with-r-my-first-attempt-ever/">Making maps with R (my first attempt ever!)</a></li>
      
      <li><a href="/post/my-first-interactive-map-with-leaflet/">My first interactive map with {leaflet}</a></li>
      
      <li><a href="/post/some-covid-19-plots-for-southeast-asian-countries/">Some COVID-19 plots for Southeast Asian countries</a></li>
      
      <li><a href="/post/using-umap-preprocessing-for-image-classification/">Using UMAP preprocessing for image classification</a></li>
      
      <li><a href="/post/fitted-vs-predict-in-r/">Fitted vs predict in R</a></li>
      
    </ul>
  </div>
  





  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">
  

  <p class="powered-by">
    ©Tengku Hanis 2020-2024 Made with <a href="https://github.com/rstudio/blogdown">blogdown</a>
  </p>

  
  






  <p class="powered-by">
    
    
    
    Published with
    <a href="https://wowchemy.com" target="_blank" rel="noopener">Wowchemy</a>  —
    the free, <a href="https://github.com/wowchemy/wowchemy-hugo-modules" target="_blank" rel="noopener">
    open source</a> website builder that empowers creators.
    
  </p>
</footer>

    </div>
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.8.0/mermaid.min.js" integrity="sha512-ja+hSBi4JDtjSqc4LTBsSwuBT3tdZ3oKYKd07lTVYmCnTCor56AnRql00ssqnTOR9Ss4gOP/ROGB3SfcJnZkeg==" crossorigin="anonymous" title="mermaid"></script>
      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/latex.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js" integrity="sha512-SeiQaaDh73yrb56sTW/RgVdi/mMqNeM2oBwubFHagc5BkixSpP1fvqF47mKzPGWYSSy4RwbBunrJBQ4Co8fRWA==" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks",
        'slides' : "Slides"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/wowchemy.min.a30e17c6197f21f7f966f9a6cd022a55.js"></script>

    






</body>
</html>
